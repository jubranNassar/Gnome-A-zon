{"ast":null,"code":"import _regeneratorRuntime from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import'./SignUp.css';import{signUp}from'../../services/users';import{useHistory}from'react-router-dom';import Layout from'../../components/Layout/Layout.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(props){var history=useHistory();var _useState=useState({username:'',email:'',password:'',passwordConfirmation:'',isError:false,errorMsg:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var handleChange=function handleChange(event){return setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));};var onSignUp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var setUser,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setUser=props.setUser;_context.prev=2;_context.next=5;return signUp(form);case 5:user=_context.sent;setUser(user);history.push('/');_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.error(_context.t0);setForm({username:'',email:'',password:'',passwordConfirmation:'',isError:true,errorMsg:'Sign Up Details Invalid'});case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function onSignUp(_x){return _ref.apply(this,arguments);};}();var renderError=function renderError(){var toggleForm=form.isError?'danger form-submit-button-su':'form-submit-button-su';if(form.isError){return/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:toggleForm,children:form.errorMsg});}else{return/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form-submit-button-su\",children:\"Sign Up\"});}};var username=form.username,email=form.email,password=form.password,passwordConfirmation=form.passwordConfirmation;return/*#__PURE__*/_jsx(Layout,{user:props.user,children:/*#__PURE__*/_jsx(\"div\",{className:\"forms-screen-su\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-forms-card-su\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"form-title-su\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSignUp,className:\"auth-form-su\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-input-div-su\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-div-su\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"})}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"username\",className:\"form-input-su\",value:username,placeholder:\"Enter username\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-input-div-su\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-div-su\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Email address:\"})}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"email\",name:\"email\",className:\"form-input-su\",value:email,placeholder:\"Enter email\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-input-div-su\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-div-su\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"})}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"password\",value:password,type:\"password\",className:\"form-input-su\",placeholder:\"Password\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-input-div-su\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-div-su\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password:\"})}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"passwordConfirmation\",className:\"form-input-su\",value:passwordConfirmation,type:\"password\",placeholder:\"Confirm Password\",onChange:handleChange})]}),renderError()]})]})})});};export default SignUp;","map":{"version":3,"sources":["/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/src/screens/SignUp/SignUp.jsx"],"names":["useState","signUp","useHistory","Layout","SignUp","props","history","username","email","password","passwordConfirmation","isError","errorMsg","form","setForm","handleChange","event","target","name","value","onSignUp","preventDefault","setUser","user","push","console","error","renderError","toggleForm"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport './SignUp.css'\nimport { signUp } from '../../services/users'\nimport { useHistory } from 'react-router-dom'\nimport Layout from '../../components/Layout/Layout.jsx';\n\nconst SignUp = (props) => {\n  const history = useHistory()\n\n  const [form, setForm] = useState({\n    username: '',\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    isError: false,\n    errorMsg: '',\n  })\n\n  const handleChange = (event) =>\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value,\n    })\n\n  const onSignUp = async (event) => {\n    event.preventDefault()\n    const { setUser } = props\n    try {\n      const user = await signUp(form)\n      setUser(user)\n      history.push('/')\n    } catch (error) {\n      console.error(error)\n      setForm({\n        username: '',\n        email: '',\n        password: '',\n        passwordConfirmation: '',\n        isError: true,\n        errorMsg: 'Sign Up Details Invalid',\n      })\n    }\n  }\n\n  const renderError = () => {\n    const toggleForm = form.isError ? 'danger form-submit-button-su' : 'form-submit-button-su'\n    if (form.isError) {\n      return (\n        <button type='submit' className={toggleForm}>\n          {form.errorMsg}\n        </button>\n      )\n    } else {\n      return <button type='submit' className='form-submit-button-su'>Sign Up</button>\n    }\n  }\n\n  const { username, email, password, passwordConfirmation } = form\n\n  return (\n    <Layout user={props.user}>\n      <div className='forms-screen-su'>\n        <div className='auth-forms-card-su'>\n          <h3 className='form-title-su'>Sign Up</h3>\n          <form onSubmit={onSignUp} className='auth-form-su'>\n\n            <div className='form-label-input-div-su'>\n              <div className=\"label-div-su\">\n                <label>Username:</label>\n              </div>\n              <input\n              required\n              type='text'\n              name='username'\n              className= 'form-input-su'\n              value={username}\n              placeholder='Enter username'\n              onChange={handleChange}\n              />\n            </div>\n\n            <div className='form-label-input-div-su'>\n              <div className=\"label-div-su\">\n                <label>Email address:</label>\n              </div>\n              <input\n                required\n                type='email'\n                name='email'\n                className= 'form-input-su'\n                value={email}\n                placeholder='Enter email'\n                onChange={handleChange}\n              />\n            </div>\n\n            <div className='form-label-input-div-su'>\n              <div className=\"label-div-su\">\n                <label>Password:</label>\n              </div>\n              <input\n                required\n                name='password'\n                value={password}\n                type='password'\n                className= 'form-input-su'\n                placeholder='Password'\n                onChange={handleChange}\n              />\n            </div>\n\n            <div className='form-label-input-div-su'>\n              <div className=\"label-div-su\">\n                <label>Confirm Password:</label>\n              </div>\n              <input\n                required\n                name='passwordConfirmation'\n                className= 'form-input-su'\n                value={passwordConfirmation}\n                type='password'\n                placeholder='Confirm Password'\n                onChange={handleChange}\n              />\n            </div>\n            {renderError()}\n          </form>\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}