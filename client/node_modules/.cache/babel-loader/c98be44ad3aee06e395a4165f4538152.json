{"ast":null,"code":"import _regeneratorRuntime from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import api from'./apiConfig';import jwtDecode from'jwt-decode';export var signUp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(credentials){var resp,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.post('/sign-up',credentials);case 3:resp=_context.sent;localStorage.setItem('token',resp.data.token);user=jwtDecode(resp.data.token);return _context.abrupt(\"return\",user);case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);throw _context.t0;case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function signUp(_x){return _ref.apply(this,arguments);};}();export var signIn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(credentials){var resp,user;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.post('/sign-in',credentials);case 3:resp=_context2.sent;localStorage.setItem('token',resp.data.token);user=jwtDecode(resp.data.token);return _context2.abrupt(\"return\",user);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);throw _context2.t0;case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function signIn(_x2){return _ref2.apply(this,arguments);};}();export var signOut=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;localStorage.removeItem('token');return _context3.abrupt(\"return\",true);case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);throw _context3.t0;case 8:case\"end\":return _context3.stop();}}},_callee3,null,[[0,5]]);}));return function signOut(){return _ref3.apply(this,arguments);};}();export var verifyUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var token,resp;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:token=localStorage.getItem('token');if(!token){_context4.next=6;break;}_context4.next=4;return api.get('/verify');case 4:resp=_context4.sent;return _context4.abrupt(\"return\",resp.data);case 6:return _context4.abrupt(\"return\",false);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function verifyUser(){return _ref4.apply(this,arguments);};}();export var getUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(username){var resp;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return api.get(\"/get-user/\".concat(username));case 2:resp=_context5.sent;return _context5.abrupt(\"return\",resp.data);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function getUser(_x3){return _ref5.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/src/services/users.js"],"names":["api","jwtDecode","signUp","credentials","post","resp","localStorage","setItem","data","token","user","signIn","signOut","removeItem","verifyUser","getItem","get","getUser","username"],"mappings":"+TAAA,MAAOA,CAAAA,GAAP,KAAgB,aAAhB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CAGA,MAAO,IAAMC,CAAAA,MAAM,0FAAG,iBAAOC,WAAP,sKAECH,CAAAA,GAAG,CAACI,IAAJ,CAAS,UAAT,CAAqBD,WAArB,CAFD,QAEZE,IAFY,eAGlBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,IAAI,CAACG,IAAL,CAAUC,KAAxC,EACMC,IAJY,CAILT,SAAS,CAACI,IAAI,CAACG,IAAL,CAAUC,KAAX,CAJJ,iCAKXC,IALW,gJAAH,kBAANR,CAAAA,MAAM,4CAAZ,CAWP,MAAO,IAAMS,CAAAA,MAAM,2FAAG,kBAAOR,WAAP,4KAECH,CAAAA,GAAG,CAACI,IAAJ,CAAS,UAAT,CAAqBD,WAArB,CAFD,QAEZE,IAFY,gBAGlBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,IAAI,CAACG,IAAL,CAAUC,KAAxC,EACMC,IAJY,CAILT,SAAS,CAACI,IAAI,CAACG,IAAL,CAAUC,KAAX,CAJJ,kCAKXC,IALW,sJAAH,kBAANC,CAAAA,MAAM,8CAAZ,CAWP,MAAO,IAAMC,CAAAA,OAAO,2FAAG,yJAEnBN,YAAY,CAACO,UAAb,CAAwB,OAAxB,EAFmB,iCAGZ,IAHY,qJAAH,kBAAPD,CAAAA,OAAO,2CAAb,CASP,MAAO,IAAME,CAAAA,UAAU,2FAAG,uJAClBL,KADkB,CACVH,YAAY,CAACS,OAAb,CAAqB,OAArB,CADU,KAEpBN,KAFoB,iDAGHT,CAAAA,GAAG,CAACgB,GAAJ,CAAQ,SAAR,CAHG,QAGhBX,IAHgB,iDAIfA,IAAI,CAACG,IAJU,0CAMjB,KANiB,0DAAH,kBAAVM,CAAAA,UAAU,2CAAhB,CASP,MAAO,IAAMG,CAAAA,OAAO,2FAAG,kBAAOC,QAAP,sJACFlB,CAAAA,GAAG,CAACgB,GAAJ,qBAAqBE,QAArB,EADE,QACfb,IADe,iDAEdA,IAAI,CAACG,IAFS,0DAAH,kBAAPS,CAAAA,OAAO,8CAAb","sourcesContent":["import api from './apiConfig'\nimport jwtDecode from 'jwt-decode'\n\n\nexport const signUp = async (credentials) => {\n  try{\n    const resp = await api.post('/sign-up', credentials)\n    localStorage.setItem('token', resp.data.token)\n    const user = jwtDecode(resp.data.token)\n    return user\n  } catch (error) {\n    throw error\n  }\n}\n\nexport const signIn = async (credentials) => {\n  try{\n    const resp = await api.post('/sign-in', credentials)\n    localStorage.setItem('token', resp.data.token)\n    const user = jwtDecode(resp.data.token)\n    return user\n  } catch (error) {\n    throw error\n  }\n}\n\nexport const signOut = async () => {\n  try {\n    localStorage.removeItem('token')\n    return true\n  } catch (error) {\n    throw error\n  }\n}\n\nexport const verifyUser = async () => {\n  const token = localStorage.getItem('token')\n  if (token) {\n    const resp = await api.get('/verify')\n    return resp.data\n  }\n  return false\n}\n\nexport const getUser = async (username) => {\n  const resp = await api.get(`/get-user/${username}`);\n  return resp.data;\n}"]},"metadata":{},"sourceType":"module"}