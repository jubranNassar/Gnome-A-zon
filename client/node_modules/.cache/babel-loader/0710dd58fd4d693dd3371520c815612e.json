{"ast":null,"code":"import _defineProperty from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import Layout from\"../../components/Layout/Layout.jsx\";import{getGnome,updateGnome}from\"../../services/gnomes\";import{useParams,Redirect}from\"react-router-dom\";import\"./ProductEdit.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductEdit(props){var _useState=useState({name:\"\",price:\"\",details:\"\",materials:\"\",category:\"\",image_url:\"\"}),_useState2=_slicedToArray(_useState,2),gnome=_useState2[0],setGnome=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),updated=_useState4[0],setUpdated=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){var fetchGnome=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var gnome;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getGnome(id);case 2:gnome=_context.sent;setGnome(gnome);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchGnome(){return _ref.apply(this,arguments);};}();fetchGnome();},[id]);var handleChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _e$target,name,value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_e$target=e.target,name=_e$target.name,value=_e$target.value;setGnome(_objectSpread(_objectSpread({},gnome),{},_defineProperty({},name,value)));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleChange(_x){return _ref2.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var updated;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.next=3;return updateGnome(id,gnome);case 3:updated=_context3.sent;setUpdated(updated);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSubmit(_x2){return _ref3.apply(this,arguments);};}();if(updated){return/*#__PURE__*/_jsx(Redirect,{to:\"/gnomes/\".concat(id)});}return/*#__PURE__*/_jsx(Layout,{user:props.user,children:/*#__PURE__*/_jsx(\"div\",{className:\"product-edit\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-edit\",children:/*#__PURE__*/_jsx(\"div\",{className:\"edit-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"name-edit\",children:/*#__PURE__*/_jsx(\"input\",{id:\"edit-name\",value:gnome.name,name:\"name\",required:true,onChange:handleChange})}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-and-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-holder\",children:/*#__PURE__*/_jsx(\"img\",{className:\"edit-image\",src:gnome.image_url,alt:gnome.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit-label-input\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-label\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-price\",children:\"Price:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-text\",children:/*#__PURE__*/_jsx(\"input\",{id:\"edit-price\",value:gnome.price,name:\"price\",required:true,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-label-input\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-label\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-details\",children:\"Details:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-text\",children:/*#__PURE__*/_jsx(\"textarea\",{rows:5,id:\"edit-details\",value:gnome.details,required:true,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-label-input\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-label\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-image-url\",children:\"image URL:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-text\",children:/*#__PURE__*/_jsx(\"input\",{id:\"edit-image-url\",value:gnome.image_url,name:\"image_url\",required:true,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-label-input\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-label\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edit-material\",children:\"Material:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-text\",children:/*#__PURE__*/_jsx(\"input\",{id:\"edit-material\",value:gnome.materials,name:\"materials\",required:true,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-label-input\",id:\"collection-input\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"edit-label\",children:/*#__PURE__*/_jsx(\"label\",{id:\"collection-label\",htmlFor:\"edit-collection\",children:\"Collection:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-text\",children:/*#__PURE__*/_jsx(\"input\",{id:\"edit-collection\",value:gnome.category,name:\"category\",required:true,onChange:handleChange})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-button\",children:\"Save Changes\"})})]})})})})})});}export default ProductEdit;","map":{"version":3,"sources":["/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/src/screens/ProductEdit/ProductEdit.jsx"],"names":["useState","useEffect","Layout","getGnome","updateGnome","useParams","Redirect","ProductEdit","props","name","price","details","materials","category","image_url","gnome","setGnome","updated","setUpdated","id","fetchGnome","handleChange","e","target","value","handleSubmit","preventDefault","user"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport Layout from \"../../components/Layout/Layout.jsx\";\nimport { getGnome, updateGnome } from \"../../services/gnomes\";\nimport { useParams, Redirect } from \"react-router-dom\";\nimport \"./ProductEdit.css\";\n\nfunction ProductEdit(props) {\n  const [gnome, setGnome] = useState({\n    name: \"\",\n    price: \"\",\n    details: \"\",\n    materials: \"\",\n    category: \"\",\n    image_url: \"\",\n  });\n\n  const [updated, setUpdated] = useState(false);\n  let { id } = useParams();\n\n  useEffect(() => {\n    const fetchGnome = async () => {\n      const gnome = await getGnome(id);\n      setGnome(gnome);\n    };\n    fetchGnome();\n  }, [id]);\n\n  const handleChange = async (e) => {\n    const { name, value } = e.target;\n    setGnome({\n      ...gnome,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const updated = await updateGnome(id, gnome);\n    setUpdated(updated);\n  };\n\n  if (updated) {\n    return <Redirect to={`/gnomes/${id}`} />;\n  }\n\n  return (\n    <Layout user={props.user}>\n      <div className=\"product-edit\">\n        <div className=\"border-edit\">\n          <div className=\"edit-card\">\n            <div className=\"form\">\n              <form className=\"form\" onSubmit={handleSubmit}>\n                <div className=\"name-edit\">\n                  <input\n                    id=\"edit-name\"\n                    value={gnome.name}\n                    name=\"name\"\n                    required\n                    onChange={handleChange}\n                  />\n                </div>\n                <div className=\"image-and-form\">\n                  <div className=\"image-holder\">\n                    <img\n                      className=\"edit-image\"\n                      src={gnome.image_url}\n                      alt={gnome.name}\n                    />\n                  </div>\n                  <div className=\"edit-form-inputs\">\n                    <div className=\"edit-label-input\">\n                      <div className=\"edit-label\">\n                        <label htmlFor=\"edit-price\">Price:</label>\n                      </div>\n                      <div className=\"edit-text\">\n                        <input\n                          id=\"edit-price\"\n                          value={gnome.price}\n                          name=\"price\"\n                          required\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"edit-label-input\">\n                      <div className=\"edit-label\">\n                        <label htmlFor=\"edit-details\">Details:</label>\n                      </div>\n                      <div className=\"edit-text\">\n                        <textarea\n                          rows={5}\n                          id=\"edit-details\"\n                          value={gnome.details}\n                          required\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"edit-label-input\">\n                      <div className=\"edit-label\">\n                        <label htmlFor=\"edit-image-url\">image URL:</label>\n                      </div>\n                      <div className=\"edit-text\">\n                        <input\n                          id=\"edit-image-url\"\n                          value={gnome.image_url}\n                          name=\"image_url\"\n                          required\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"edit-label-input\">\n                      <div className=\"edit-label\">\n                        <label htmlFor=\"edit-material\">Material:</label>\n                      </div>\n                      <div className=\"edit-text\">\n                        <input\n                          id=\"edit-material\"\n                          value={gnome.materials}\n                          name=\"materials\"\n                          required\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"edit-label-input\" id=\"collection-input\">\n                      <div className=\"edit-label\">\n                        <label id=\"collection-label\" htmlFor=\"edit-collection\">\n                          Collection:\n                        </label>\n                      </div>\n                      <div className=\"edit-text\">\n                        <input\n                          id=\"edit-collection\"\n                          value={gnome.category}\n                          name=\"category\"\n                          required\n                          onChange={handleChange}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"button-container\">\n                  <button type=\"submit\" className=\"save-button\">\n                    Save Changes\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default ProductEdit;\n"]},"metadata":{},"sourceType":"module"}