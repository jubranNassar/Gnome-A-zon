{"ast":null,"code":"import _regeneratorRuntime from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import'./SignIn.css';import{signIn}from'../../services/users';import{useHistory}from'react-router-dom';import Layout from'../../components/Layout/Layout.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(props){var history=useHistory();var _useState=useState({email:'',password:'',isError:false,errorMsg:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var handleChange=function handleChange(event){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));};var onSignIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var setUser,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setUser=props.setUser;_context.prev=2;_context.next=5;return signIn(form);case 5:user=_context.sent;setUser(user);history.push('/');_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.error(_context.t0);setForm({isError:true,errorMsg:'Invalid Credentials',email:'',password:''});case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function onSignIn(_x){return _ref.apply(this,arguments);};}();var renderError=function renderError(){var toggleForm=form.isError?'danger form-submit-button-si':'form-submit-button-si';if(form.isError){return/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:toggleForm,children:form.errorMsg});}else{return/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form-submit-button-si btn-reg\",children:\"Sign In\"});}};var email=form.email,password=form.password;return/*#__PURE__*/_jsx(Layout,{user:props.user,children:/*#__PURE__*/_jsx(\"div\",{className:\"forms-screen-si\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in-forms-card-si\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"form-title-si\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSignIn,className:\"auth-form-si\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-input-div-si\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-div-si\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"})}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"email\",className:\"form-input-si\",value:email,placeholder:\"Enter Email\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-input-div-si\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-div-si\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"})}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"password\",className:\"form-input-si\",value:password,type:\"password\",placeholder:\"Password\",onChange:handleChange})]}),renderError()]})]})})});};export default SignIn;","map":{"version":3,"sources":["/home/jubran/general_assembly/sei/Flamingos/unit_3/homework/Gnome-A-zon/client/src/screens/SignIn/SignIn.jsx"],"names":["useState","signIn","useHistory","Layout","SignIn","props","history","email","password","isError","errorMsg","form","setForm","handleChange","event","target","name","value","onSignIn","preventDefault","setUser","user","push","console","error","renderError","toggleForm"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport './SignIn.css'\nimport { signIn } from '../../services/users'\nimport { useHistory } from 'react-router-dom'\nimport Layout from '../../components/Layout/Layout.jsx';\n\n\nconst SignIn = (props) => {\n  const history = useHistory()\n\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n    isError: false,\n    errorMsg: '',\n  })\n\n  const handleChange = (event) => {\n    setForm({\n      ...form,\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  const onSignIn = async (event) => {\n    event.preventDefault()\n    const { setUser } = props\n    try {\n      const user = await signIn(form)\n      setUser(user)\n      history.push('/')\n    } catch (error) {\n      console.error(error)\n      setForm({\n        isError: true,\n        errorMsg: 'Invalid Credentials',\n        email: '',\n        password: '',\n      })\n    }\n  }\n\n  const renderError = () => {\n    const toggleForm = form.isError ? 'danger form-submit-button-si' : 'form-submit-button-si'\n    if (form.isError) {\n      return (\n        <button type='submit' className={toggleForm}>\n          {form.errorMsg}\n        </button>\n      )\n    } else {\n      return <button type='submit' className='form-submit-button-si btn-reg'>Sign In</button>\n    }\n  }\n\n  const { email, password } = form\n\n  return (\n    <Layout user={props.user}>\n\n      <div className='forms-screen-si'>\n        <div className='sign-in-forms-card-si'>\n          <h3 className='form-title-si'>Sign In</h3>\n          <form onSubmit={onSignIn} className='auth-form-si'>\n\n            <div className='form-label-input-div-si'>\n              <div className=\"label-div-si\">\n                <label>Email:</label>\n              </div>\n              <input\n                required\n                type='text'\n                name='email'\n                className= 'form-input-si'\n                value={email}\n                placeholder='Enter Email'\n                onChange={handleChange}\n              />\n            </div>\n\n            <div className='form-label-input-div-si'>\n              <div className=\"label-div-si\">\n                <label>Password:</label>\n              </div>\n              <input\n                required\n                name='password'\n                className= 'form-input-si'\n                value={password}\n                type='password'\n                placeholder='Password'\n                onChange={handleChange}\n              />\n            </div>\n          {renderError()}\n        </form>\n      </div>\n    </div>\n    </Layout>\n  )\n}\n\nexport default SignIn\n"]},"metadata":{},"sourceType":"module"}